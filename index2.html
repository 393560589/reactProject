<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>我的收入</title>
    <script src="config/base.js"></script>
    <link rel="stylesheet" href="css/pubilc.css">
    <link rel="stylesheet" href="css/less.css">
</head>
<body>
<div class="playHappy" id="playHappy">
    <div class="backGame">
        <div id="game">

        </div>
    </div>
    <!--  <Navbar />-->
</div>
<div class="alertbackground" id="ppp">
    <div class="alertgift">
        <h4>恭喜您获得</h4>
        <div class="giftimg">
            <img src="img/gift/szas.jpg" alt="">
        </div>
        <p>第一任守护者阿洛迪的武器</p>
        <a class="base-btn">确定</a>
    </div>
</div>
<script src="app/config/base.js"></script>
<script>
document.getElementById('ppp').onclick = function(){
    alert('hehe')
}


    var  shake=4000,
            last_update=0,
            count=0,
            x=y=z=last_x=last_y=last_z=0;
    if(window.DeviceMotionEvent){
        window.addEventListener("devicemotion",deviceMotionHandler,false);
    }else{
        alert("本设备不支持devicemotion事件");
    }

    console.log(new Date().valueOf());
    function deviceMotionHandler(eventData){
        var acceleration = eventData.accelerationIncludingGravity,
                currTime=new Date().valueOf(),
                diffTime=currTime-last_update;

        if(diffTime>100){
            last_update=currTime;
            x=acceleration.x;
            y=acceleration.y;
            z=acceleration.z;
            var speed=Math.abs(x+y+z-last_x-last_y-last_z)/diffTime*10000
            if(speed>shake){
                var id = document.getElementById("game");
                function move(game){
                    this.game=id
                }
                var load = new move();
                move.prototype.add = function(){
                    this.game.className='move'
                }
                move.prototype.remove = function(){
                    this.game.className = ''
                }
                load.add();
                setTimeout(load.remove,5000);
            }
            last_x = x;
            last_y = y;
            last_z = z;
        }
    }
</script>
<!--<script src="dist/bundle.js"></script>-->
</body>
</html>